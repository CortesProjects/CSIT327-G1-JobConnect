{% extends "base.html" %} 
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard/admin/admin_applicants.css' %}">
{% endblock %}

{% block title %}Applicants | JobConnect{% endblock %}

{% block content %}
<div class="dashboard-layout">

  <!-- Sidebar -->
  <aside class="sidebar">
    <ul class="sidebar-menu">
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_dashboards' %}"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      </li>
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_total_employers_verified' %}"><i class="fas fa-briefcase"></i> Total Employers Verified</a>
      </li>
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_accept_reject_employer' %}"><i class="fas fa-user-check"></i> Accept/Reject Employer</a>
      </li>
      <li class="menu-item active">
        <a href=""><i class="fas fa-users"></i> Applicants</a>
      </li>
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_job_postings' %}"><i class="fas fa-file-alt"></i> Active Job Posting</a>
      </li>
    </ul>

    <div class="logout-section">
      <a href="{% url 'accounts:logout' %}">
          <i class="fas fa-sign-out-alt"></i>
          <span>Log-out</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <section class="main-content">
    <div class="page-header">
      <h2>Applicants</h2>
    </div>

    <div class="applicants-list">
      {% if applicants %}
        {% for applicant in applicants %}
          <div class="applicant-card">
            <div class="applicant-left">
              {% if applicant.applicant_profile_rel.image %}
                <img src="{{ applicant.applicant_profile_rel.image.url }}" class="profile-image" alt="Profile Image">
              {% else %}
                <img src="{% static 'defaults/default-avatar.png' %}" class="profile-image" alt="Default Image">
              {% endif %}
              <div>
                <h4 class="applicant-name">
                  {{ applicant.first_name }} {% if applicant.middle_name %}{{ applicant.middle_name }} {% endif %}{{ applicant.last_name }}
                </h4>
                <div class="applicant-info">
                  <span><i class="fas fa-map-marker-alt"></i> {{ applicant.applicant_profile_rel.location|default:"N/A" }}</span>
                  <span><i class="fas fa-dollar-sign"></i> {{ applicant.applicant_profile_rel.year_level|default:"Unknown" }} Years experience</span>
                </div>
              </div>
            </div>
            <div class="applicant-right">
              <i class="far fa-bookmark save-icon"></i>
              <button class="view-btn">
                View Profile <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>

        {% endfor %}
      {% else %}
        <p>No applicants have viewed yet.</p>
      {% endif %}
    </div>

  </section>
</div>
{% endblock %}
