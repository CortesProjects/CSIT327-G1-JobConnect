{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard/admin/admin_total_employers_verified.css' %}">
{% endblock %}

{% block title %}Verified Employers | JobConnect{% endblock %}

{% block content %}
<div class="dashboard-layout">
  
  <!-- Sidebar -->
  <aside class="sidebar">
    <ul class="sidebar-menu">
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_dashboards' %}"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      </li>
      <li class="menu-item active">
        <a href="#"><i class="fas fa-briefcase"></i> Total Employers Verified</a>
      </li>
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_accept_reject_employer' %}"><i class="fas fa-user-check"></i> Accept/Reject Employer</a>
      </li>
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_applicants' %}"><i class="fas fa-users"></i> Applicants</a>
      </li>
      <li class="menu-item">
        <a href="{% url 'dashboard:admin_job_postings' %}"><i class="fas fa-file-alt"></i> Active Job Posting</a>
      </li>
    </ul>

    <div class="logout-section">
      <a href="{% url 'accounts:logout' %}">
          <i class="fas fa-sign-out-alt"></i>
          <span>Log-out</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <section class="main-content">
    <div class="page-header">
      <h2>Verified Employers</h2>
    </div>

    <div class="employer-list">
      <!-- Header Row -->
      <div class="employer-list-header">
        <span>Job</span>
        <span>Date Verified</span>
        <span>Status</span>
      </div>

      <!-- Dynamic Employer Cards -->
      {% for employer in verified_employers %}
      <div class="employer-card">
        <div class="employer-left">
          {% if employer.employer_profile_rel.logo %}
              <img src="{{ employer.employer_profile_rel.logo.url }}" class="job-logo" alt="Company Logo">
          {% else %}
              <img src="{% static 'img/default-avatar.png' %}" class="job-logo" alt="Default Logo">
          {% endif %}
          
          <p class="job-name">{{ employer.username }}</p>

          {% if employer.employer_profile_rel.badge == "Full Time" %}
              <span class="badge fulltime">Full Time</span>
          {% elif employer.employer_profile_rel.badge == "Remote" %}
              <span class="badge remote">Remote</span>
          {% elif employer.employer_profile_rel.badge == "Contract Base" %}
              <span class="badge contract">Contract Base</span>
          {% elif employer.employer_profile_rel.badge == "Temporary" %}
              <span class="badge temporary">Temporary</span>
          {% elif employer.employer_profile_rel.badge %}
              <span class="badge">{{ employer.employer_profile_rel.badge }}</span>
          {% endif %}
      </div>


        <div class="employer-center">
          <p>{{ employer.date_joined|date:"d/m/Y H:i" }}</p>
        </div>

        <div class="employer-right">
          {% if employer.is_active %}
            <span class="status active"><i class="fas fa-check"></i> Active</span>
          {% else %}
            <span class="status inactive"><i class="fas fa-times"></i> Inactive</span>
          {% endif %}
        </div>
      </div>
      {% empty %}
        <p>No verified employers found.</p>
      {% endfor %}
    </div>
  </section>
</div>
{% endblock %}
